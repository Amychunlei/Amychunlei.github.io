---
title: Linux的基本内容
date: 2021-07-19 07:43:06
tags: Linux
---
## Linux概述

Linux 是一种自由和开放源码的类 UNIX 操作系统。

Linux 英文解释为 **Linux is not Unix**。

Linux 是在 1991 由林纳斯·托瓦兹在赫尔辛基大学上学时创立的，主要受到 Minix 和 Unix 思想的启发。

任何个人和机构都可以自由地使用 Linux 的所有底层源代码，也可以自由地修改和再发布。



## 环境搭建

![wx2k9g7Hte](C:\Users\xuchu\Desktop\图片\wx2k9g7Hte.png)

比较而言，Ubuntu的安装相对比较容易,关于Ubuntu的安装之后会在下一个内容进行介绍
如果想具体了解CentOS的安装，可以点击[CentOS的安装教程](https://www.runoob.com/linux/linux-install.html)

如果想具体了解云服务的使用，可以点击[云服务器的使用教程](https://www.runoob.com/linux/linux-cloud-server.html)

## Linux VS Windows

Linux 更多的是应用于服务器上，而桌面操作系统更多使用的是 Windows。

![image-20210707102234596](C:\Users\xuchu\Desktop\图片\image-20210707102234596.png)

##  Linux启动过程

### 开机登录

- Linux启动过程分为5个阶段

  - 内核的引导。

    - 计算机打开电源后，首先是BIOS开机自检，按照BIOS中设置的启动设备（通常是硬盘）来启动。

      操作系统接管硬件以后，首先读入 /boot 目录下的内核文件。

    - 操作系统-->/boot

  - 运行 init。

    - init 进程是系统所有进程的起点
    - 操作系统-->/boot-->init 进程

  - 运行级别

    - 在开机启动程序中，windows叫做服务（service）
    - Linux就叫做"守护进 程"（daemon）
    - init进程的一大任务，运行开机启动的程序。Linux允许为不同的场合，分配不同的开机启动程序，这就叫做"运行级别"（runlevel）。
    - Linux系统有7个运行级别(runlevel)：
      - 运行级别0：系统停机状态，系统默认运行级别不能设为0，否则不能正常启动
      - 运行级别1：单用户工作状态，root权限，用于系统维护，禁止远程登陆
      - 运行级别2：多用户状态(没有NFS)
      - 运行级别3：完全的多用户状态(有NFS)，登陆后进入控制台命令行模式
      - 运行级别4：系统未使用，保留
      - 运行级别5：X11控制台，登陆后进入图形GUI模式
      - 运行级别6：系统正常关闭并重启，默认运行级别不能设为6，否则不能正常启动
    - 操作系统-->/boot-->init 进程-->运行级别

  - 系统初始化。

    - 在init的配置文件中有这么一行： si::sysinit:/etc/rc.d/rc.sysinit　它调用执行了/etc/rc.d/rc.sysinit，而rc.sysinit是一个bash shell的脚本，它主要是完成一些系统初始化的工作，rc.sysinit是每一个运行级别都要首先运行的重要脚本。

      它主要完成的工作有：激活交换分区，检查磁盘，加载硬件模块以及其它一些需要优先执行任务。

    - 操作系统-->/boot-->init 进程-->运行级别-->系统初始化

  - 建立终端 。

    - rc执行完毕后，返回init。这时基本系统环境已经设置好了，各种守护进程也已经启动了。

      init接下来会打开6个终端，以便用户登录系统。

      - 操作系统-->/boot-->init 进程-->运行级别-->系统初始化-->建立终端（/etc/init.d）

  - 用户登录系统。

    - 用户登录的方式有三种(其中，最高权限是root账号，可以操作一切)
      - 命令行登录 
      - ssh登录 
      - 图形界面登录
    - 操作系统-->/boot-->init 进程-->运行级别-->系统初始化-->建立终端（/etc/init.d）-->用户登录系统



**使用ubuntu的请注意**

- 创建新的文件或新的文件夹,或者修改文件时候无法保存等问题，可能是因为权限不够

  这个时候需要使用超级用户才可以

  命令： 

  ```
  sudo su #转为超级用户
  ```

  

### Linux关机

- 在linux领域内大多用在服务器上，很少遇到关机的操作。毕竟服务器上跑一个服务是永无止境的，除非特殊情况下，不得已才会关机

- 关机指令为：shutdown 

  以下关于具体的一些关机操作，如果想具体了解可以去查看相关的文档

  - ```
    shutdown –h now 立马关机
    shutdown –h 20:25 系统会在今天20:25关机
    shutdown –h +10 十分钟后关机
    shutdown –r now 系统立马重启
    shutdown –r +10 系统十分钟后重启
    ```

    

##  系统目录

登录系统后，在当前命令窗口下输入命令,可以显示目录的结构，方便我们对目录内容进行理解

```
 ls / 
```

![image-20210707105539327](C:\Users\xuchu\Desktop\图片\image-20210707105539327.png)

### 目录内容的解释

```
/bin：
bin 是 Binaries (二进制文件) 的缩写, 这个目录存放着最经常使用的命令。

/boot：
这里存放的是启动 Linux 时使用的一些核心文件，包括一些连接文件以及镜像文件。

/dev ：
dev 是 Device(设备) 的缩写, 该目录下存放的是 Linux 的外部设备，在 Linux 中访问设备的方式和访问文件的方式是相同的。

/etc：
etc 是 Etcetera(等等) 的缩写,这个目录用来存放所有的系统管理所需要的配置文件和子目录。

/home：
用户的主目录，在 Linux 中，每个用户都有一个自己的目录，一般该目录名是以用户的账号命名的，如上图中的 alice、bob 和 eve。

/lib：
lib 是 Library(库) 的缩写这个目录里存放着系统最基本的动态连接共享库，其作用类似于 Windows 里的 DLL 文件。几乎所有的应用程序都需要用到这些共享库。

/lost+found：
这个目录一般情况下是空的，当系统非法关机后，这里就存放了一些文件。

/media：
linux 系统会自动识别一些设备，例如U盘、光驱等等，当识别后，Linux 会把识别的设备挂载到这个目录下。

/mnt：
系统提供该目录是为了让用户临时挂载别的文件系统的，我们可以将光驱挂载在 /mnt/ 上，然后进入该目录就可以查看光驱里的内容了。

/opt：
opt 是 optional(可选) 的缩写，这是给主机额外安装软件所摆放的目录。比如你安装一个ORACLE数据库则就可以放到这个目录下。默认是空的。

/proc：
proc 是 Processes(进程) 的缩写，/proc 是一种伪文件系统（也即虚拟文件系统），存储的是当前内核运行状态的一系列特殊文件，这个目录是一个虚拟的目录，它是系统内存的映射，我们可以通过直接访问这个目录来获取系统信息。
这个目录的内容不在硬盘上而是在内存里，我们也可以直接修改里面的某些文件，比如可以通过下面的命令来屏蔽主机的ping命令，使别人无法ping你的机器：

echo 1 > /proc/sys/net/ipv4/icmp_echo_ignore_all
/root：
该目录为系统管理员，也称作超级权限者的用户主目录。

/sbin：
s 就是 Super User 的意思，是 Superuser Binaries (超级用户的二进制文件) 的缩写，这里存放的是系统管理员使用的系统管理程序。

/selinux：
 这个目录是 Redhat/CentOS 所特有的目录，Selinux 是一个安全机制，类似于 windows 的防火墙，但是这套机制比较复杂，这个目录就是存放selinux相关的文件的。

/srv：
 该目录存放一些服务启动之后需要提取的数据。

/sys：

这是 Linux2.6 内核的一个很大的变化。该目录下安装了 2.6 内核中新出现的一个文件系统 sysfs 。

sysfs 文件系统集成了下面3种文件系统的信息：针对进程信息的 proc 文件系统、针对设备的 devfs 文件系统以及针对伪终端的 devpts 文件系统。

该文件系统是内核设备树的一个直观反映。

当一个内核对象被创建的时候，对应的文件和目录也在内核对象子系统中被创建。

/tmp：
tmp 是 temporary(临时) 的缩写这个目录是用来存放一些临时文件的。

/usr：
 usr 是 unix shared resources(共享资源) 的缩写，这是一个非常重要的目录，用户的很多应用程序和文件都放在这个目录下，类似于 windows 下的 program files 目录。

/usr/bin：
系统用户使用的应用程序。

/usr/sbin：
超级用户使用的比较高级的管理程序和系统守护程序。

/usr/src：
内核源代码默认的放置目录。

/var：
var 是 variable(变量) 的缩写，这个目录中存放着在不断扩充着的东西，我们习惯将那些经常被修改的目录放在这个目录下。包括各种日志文件。

/run：
是一个临时文件系统，存储系统启动以来的信息。当系统重启时，这个目录下的文件应该被删掉或清除。如果你的系统上有 /var/run 目录，应该让它指向 run。
```







## 基本命令

### 目录管理

Linux的目录结构为树状结构，最顶级的目录为根目录 /。

- 相对路径

  - 不是由 **/**  写起    /usr/content/file 要到 /usr/content/picture 底下时，可以写成： **cd ../picture** 这就是相对路径的写法。

- 绝对路径

  - 就是从根目录下写起    /usr/content/file

    

处理目录的指令

- ls（英文全拼：list files）: 列出目录及文件名

  ```
      -a ：全部的文件，连同隐藏文件( 开头为 . 的文件) 一起列出来(常用)
      -d ：仅列出目录本身，而不是列出目录内的文件数据(常用)
      -l ：长数据串列出，包含文件的属性与权限等等数据；(常用)
  ```

  

- cd（英文全拼：change directory）：切换目录   

  cd [相对路径或绝对路径]

- pwd（英文全拼：print work directory）：显示目前的目录

  ```
  -P ：显示出确实的路径，而非使用连结 (link) 路径。
  ```

  

- mkdir（英文全拼：make directory）：创建一个新的目录

  ```
     -m ：配置文件的权限！直接配置，不需要看默认权限 
      -p ：帮助你直接将所需要的目录(包含上一级目录)递归创建起来！
  ```

  

- rmdir（英文全拼：remove directory）：删除一个空的目录	

  ```
  -p ：连同上一级『空的』目录也一起删除
  ```

  ```
  ..@DESKTOP-EB57470 MINGW64 /d/study
  $ mkdir -p t1/t2/t3
  ..@DESKTOP-EB57470 MINGW64 /d/study
  $
  ```

  ![image-20210707115557915](C:\Users\xuchu\AppData\Roaming\Typora\typora-user-images\image-20210707115557915.png)

- rmdir（英文全拼：remove directory）：删除一个空的目录

  ```
  -p ：连同上一级『空的』目录也一起删除
  ```

  ```
   ..@DESKTOP-EB57470 MINGW64 /d/study/test1/test2
     $ cd ../..
   ..@DESKTOP-EB57470 MINGW64 /d/study
     $ rmdir -p t1/t2/t3
  ```




- cp（英文全拼：copy file）: 复制文件或目录

  ```
  - [root@www ~]# cp [-adfilprsu] 来源档(source) 目标档(destination)
  
  cp（英文全拼：copy file）: 复制文件或目录
  	[root@www ~]# cp [-adfilprsu] 来源档(source) 目标档(destination)
  	
  	-a：相当於 -pdr 的意思，至於 pdr 请参考下列说明；(常用)
  
      -d：若来源档为连结档的属性(link file)，则复制连结档属性而非文件本身；
  
      -f：为强制(force)的意思，若目标文件已经存在且无法开启，则移除后再尝试一次；
  
      -i：若目标档(destination)已经存在时，在覆盖时会先询问动作的进行(常用)
  
      -l：进行硬式连结(hard link)的连结档创建，而非复制文件本身；
  
      -p：连同文件的属性一起复制过去，而非使用默认属性(备份常用)；
  
      -r：递归持续复制，用於目录的复制行为；(常用)
  
      -s：复制成为符号连结档 (symbolic link)，亦即『捷径』文件；
  
      -u：若 destination 比 source 旧才升级 destination ！
  ```

  

- ​	rm（英文全拼：remove）: 删除文件或目录
  ​	rm [-fir] 文件或目录	

  	-f ：就是 force 的意思，忽略不存在的文件，不会出现警告信息；
  	-i ：互动模式，在删除前会询问使用者是否动作
  	-r ：递归删除啊！最常用在目录的删除了！这是非常危险的选项！！！

- mv（英文全拼：move file）: 移动文件与目录，或修改文件与目录的名称

  #可以使用 man [命令] 来查看各个命令的使用文档，如 ：man cp。

### 文件内容查看

```
Linux系统中使用以下命令来查看文件的内容：

cat  由第一行开始显示文件内容
tac  从最后一行开始显示，可以看出 tac 是 cat 的倒着写！
nl   显示的时候，顺道输出行号！
more 一页一页的显示文件内容
less 与 more 类似，但是比 more 更好的是，他可以往前翻页！
head 只看头几行
tail 只看尾巴几行
可以使用 man [命令]来查看各个命令的使用文档，如 ：man cp。
```

